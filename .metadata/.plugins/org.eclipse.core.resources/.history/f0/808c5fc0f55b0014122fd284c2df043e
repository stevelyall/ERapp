package ca.stevenlyall.ersurvey;

import android.app.Activity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.RatingBar;
import android.widget.RatingBar.OnRatingBarChangeListener;
import android.widget.TextView;

public class SurveyActivity extends Activity implements OnRatingBarChangeListener {

	//TODO load these from a file
	
	//Questions and array to hold answers for momentary affect
	final String[] maQuestions = {"At the moment I feel happy",
							      "At the moment I feel relaxed",
							      "At the moment I feel angry",
							      "At the moment I feel stressed",
							      "At the moment I feel anxious",
							      "At the moment I feel depressed"};
	final int[] maResponses = new int[6];
	
	
	Survey survey = new Survey();
	
	
	// UI elements
	RatingBar rating; 
	Button nextButton, backButton;
	TextView questionTextView;

	
	/** Called when the activity is first created. */
	@Override
	public void onCreate(Bundle savedInstanceState) {
	    super.onCreate(savedInstanceState);
	    setContentView(R.layout.activity_survey);
	    
	    rating = (RatingBar) findViewById(R.id.rating);
	    nextButton = (Button) findViewById(R.id.nextButton);
	    nextButton.setOnClickListener(new OnClickListener(){
	    //next button click
			@Override
			public void onClick(View v) {
				
				
			}
	    	
	    });
	    backButton = (Button) findViewById(R.id.backButton);
	    questionTextView = (TextView) findViewById(R.id.questionTextView);
	    
	    
	    askMA();
	}
	
	private void askMA() {
			
		Question[] items = survey.getMaItems();
		questionTextView.setText(items[0].getQuestion());
			
			
	}

	@Override
	public void onRatingChanged(RatingBar ratingBar, float rating,
			boolean fromUser) {
		
		responseValue = ratingBar.getRating();
		Log.i("ratingBar","Ratingbar response value changed " + responseValue);
		
	}

	

}
